# ==================================================
# Grille
# ==================================================

# A light reinterpretation of Mutable Instruments Grids

# Input 1:    Clock
# Input 2:    Reset
# Output 1:   Bassdrum trigger
# Output 2:   Snare trigger
# Output 3:   Hihat trigger
# Pot 1.1:    Bassdrum Activity
# Pot 1.2:    Snare Activity
# Pot 2.1:    Hihat Activity
# Button 1.1: Bassdrum dice
# Button 1.2: Bassdrum 4 on the floor
# Button 1.3: Snare dice
# Button 1.5: HiHat dice

[p2b8]
[p2b8]





# --------------------------------------------------
# Bassdrum
# --------------------------------------------------

# Generate random triggers
[algoquencer]
    clock = I1
    reset = I2
    activity = P1.1
    reroll = B1.1
    trigger = _BDSEQ



# Activate four on the floor triggers
[togglebutton]
    button = B1.2
    led = L1.2

[clocktool]
    clock = I1
    output = _BDCLOCK
    divide = 4

[logic]
    input1 = L1.2
    input2 = _BDCLOCK
    and = _BDCLOCKENABLE



# Merge all triggers
[logic]
    input1 = _BDSEQ
    input2 = _BDCLOCKENABLE
    or =  O1





# --------------------------------------------------
# Snare
# --------------------------------------------------

# Generate random triggers
[algoquencer]
    clock = I1
    reset = I2
    activity = P1.2
    reroll = B1.3
    trigger = O2





# --------------------------------------------------
# Hihat
# --------------------------------------------------

# Generate random triggers
[algoquencer]
    clock = I1
    reset = I2
    activity = P2.1
    reroll = B1.5
    trigger = O3
